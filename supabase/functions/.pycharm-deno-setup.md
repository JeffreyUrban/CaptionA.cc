# PyCharm/IntelliJ IDEA Deno Configuration

This directory contains Supabase Edge Functions written in Deno TypeScript.

## Configure PyCharm for Deno Support

To resolve the "File is not included in any tsconfig.json" warning and enable proper Deno support:

### Option 1: Enable Deno for the functions directory (Recommended)

1. Open **Settings/Preferences** → **Languages & Frameworks** → **Deno**
2. Check **"Enable Deno for your project"**
3. Set **Deno executable path**:
   - macOS/Linux: `/usr/local/bin/deno` (or run `which deno` in terminal)
   - Windows: `C:\Program Files\deno\deno.exe`
4. Under **"Scope"**, click **"+"** and add:
   - Directory: `supabase/functions`
   - ✅ Enable for this scope

This tells PyCharm to use Deno instead of Node.js TypeScript for this directory.

### Option 2: Install Deno Plugin (if not already installed)

1. Go to **Settings/Preferences** → **Plugins**
2. Search for "Deno"
3. Install the official **Deno** plugin
4. Restart PyCharm
5. Follow Option 1 steps above

### Verify Configuration

After configuration, the following should work:
- ✅ No "File is not included in any tsconfig.json" warnings
- ✅ Proper TypeScript completion for Deno APIs
- ✅ Import resolution for `https://esm.sh/...` imports
- ✅ Proper linting and formatting using Deno rules

## Configuration Files

- **deno.jsonc** - Deno configuration (compiler options, lint, format)
- **import_map.json** - Import map for URL-based imports

## Development

### Local Testing
```bash
cd supabase
supabase functions serve --env-file ../.env
```

### Linting
```bash
deno lint supabase/functions/
```

### Formatting
```bash
deno fmt supabase/functions/
```

### Type Checking
```bash
deno check supabase/functions/**/*.ts
```

## Notes

- Supabase Edge Functions run on **Deno**, not Node.js
- They use URL-based imports (e.g., `https://esm.sh/@supabase/supabase-js@2`)
- The `deno.jsonc` file configures TypeScript compiler options for Deno
- The main app (`apps/captionacc-web`) uses Node.js/Vite - keep them separate
